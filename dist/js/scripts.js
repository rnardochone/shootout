"use strict";function SetCanvasSize(e,n){var t=document.getElementById("unity-container").querySelector("canvas");t.style.width=e+"px",t.style.height=n+"px"}function HideUrlBar(){window.scrollTo(0,1),void 0!==myGameInstance&&(90===Math.abs(window.orientation)?myGameInstance.SetFullscreen(1):myGameInstance.SetFullscreen(0))}function onVisibilityChange(){document.hidden?myGameInstance.SendMessage("Main Camera","PauseUnpause","pause"):myGameInstance.SendMessage("Main Camera","PauseUnpause","resume")}SetCanvasSize(Screen.width,Screen.height),HideUrlBar(),window.addEventListener("orientationchange",function(){SetCanvasSize(Screen.width,Screen.height),HideUrlBar()}),document.addEventListener("visibilitychange",onVisibilityChange,!1);var userData=getCookieValue("slud"),nameField=document.querySelector("#nicknameField"),emailField=document.querySelector("#emailField"),submitBtn=document.querySelector(".submitBtn");function checkForCookie(){""!=userData&&fillFields(userData.split("-")[0],userData.split("-")[1])}function getCookieValue(e){for(var n=decodeURIComponent(document.cookie).split(";").map(function(e){return[e.split("=")[0].trim(),null==(e=e.split("=")[1])?void 0:e.trim()]}),t=0;t<n.length;t++)if(n[t][0]===e)return n[t][1];return""}function fillFields(e,n){document.cookie="slud=".concat(e,"-").concat(n),""==nameField.value&&(nameField.value=e),nameField.select(),emailField.value=n,validateSubmit()}function validateSubmit(){console.log(nameField.value),""!=emailField.value&&""!=nameField.value?submitBtn.classList.remove("disabledBtn"):submitBtn.classList.add("disabledBtn")}function submitScore(){console.log("Submitting Score");var e="".concat(nameField.value,",").concat(nameField.value,",").concat(emailField.value);console.log("Sending data:",e),myGameInstance.SendMessage("Main Camera","PostScore",e)}nameField.onkeyup=function(){return validateSubmit()},checkForCookie(),submitBtn.addEventListener("click",function(){submitScore()});var tableBody=document.getElementById("tableBody");function openLeaderboard(){changeCurrent("Leaderboard"),populateTable()}function populateTable(){fetch("https://bovadacontests.com/api/game/leaderboard/shootout-at-sunset/50").then(function(e){return e.json()}).then(function(e){tableBody.innerHTML="",e.map(function(e,n){tableBody.innerHTML+="\n                <tr>\n                    <td>".concat(n+1,"</td>\n                    <td>").concat(e.display_name,"</td>\n                    <td>").concat(e.points,"</td>\n                </tr>")})})}var sections=document.querySelectorAll("section");function changeCurrent(e){sections.forEach(function(e){return e.classList.remove("currentSection")}),e&&document.querySelector("#section"+e).classList.add("currentSection")}var playBtn=document.querySelectorAll(".playBtn"),goToInstructions=document.querySelectorAll(".goToInstructions"),goToLeaderboard=document.querySelectorAll(".goToLeaderboard"),goToSelect=document.querySelectorAll(".goToSelect"),goToHome=document.querySelectorAll(".goToHome"),slotslvLogo=document.querySelector(".logoContainer"),currentCharacter=(slotslvLogo.addEventListener("click",function(){window.location.href="https://www.slotslv.net/"}),goToInstructions.forEach(function(e){return e.addEventListener("click",function(){changeCurrent("Instructions")})}),goToLeaderboard.forEach(function(e){return e.addEventListener("click",function(){openLeaderboard()})}),goToSelect.forEach(function(e){return e.addEventListener("click",function(){changeCurrent("Select")})}),goToHome.forEach(function(e){return e.addEventListener("click",function(){changeCurrent("Home")})}),playBtn.forEach(function(e){return e.addEventListener("click",function(){var e=document.querySelector("#unity-container");e.classList.remove("initialHide"),e.classList.remove("hiddingUnity"),e.classList.add("dontHideAgain"),changeCurrent(""),myGameInstance.SendMessage("Main Camera","RestartGame")})}),"male"),maleBtn=document.querySelector(".maleCharacter"),femaleBtn=document.querySelector(".femaleCharacter"),currCharContainer=document.querySelector(".currentCharacterContainer");function fb_login(){FB.getLoginStatus(function(e){"connected"===e.status?FB.logout(function(e){FB.login(function(e){facebookLoginHandler(e)},{scope:"email",fields:"name"})}):FB.login(function(e){facebookLoginHandler(e)},{scope:"email",fields:"name"})})}function facebookLoginHandler(e){"connected"===e.status?(console.log("Logged in with facebook!"),FB.api("/me",{fields:"name,email"},function(e){fillFields(e.name,e.email)})):console.log("Not logged in!")}function googleLoginHandler(e){console.log("Logged in with google!");e=e.credential.split("."),e=JSON.parse(atob(e[1]));fillFields(e.name,e.email)}maleBtn.onclick=function(){currentCharacter="male",currCharContainer.classList.add("male"),currCharContainer.classList.remove("female"),maleBtn.classList.add("selected"),femaleBtn.classList.remove("selected"),myGameInstance.SendMessage("Main Camera","SelectPlayer","male")},femaleBtn.onclick=function(){currentCharacter="female",currCharContainer.classList.remove("male"),currCharContainer.classList.add("female"),femaleBtn.classList.add("selected"),maleBtn.classList.remove("selected"),myGameInstance.SendMessage("Main Camera","SelectPlayer","female")};var container=document.querySelector("#unity-container"),canvas=document.querySelector("#unity-canvas"),loadingBar=document.querySelector("#unity-loading-bar"),progressBarFull=document.querySelector("#unity-progress-bar-full"),warningBanner=document.querySelector("#unity-warning");function unityShowBanner(e,n){function t(){warningBanner.style.display=warningBanner.children.length?"block":"none"}var a=document.createElement("div");a.innerHTML=e,warningBanner.appendChild(a),"error"==n?a.style="background: red; padding: 10px;":("warning"==n&&(a.style="background: yellow; padding: 10px;"),setTimeout(function(){warningBanner.removeChild(a),t()},5e3)),t()}var meta,myGameInstance,buildUrl="./dist/Build/",buildName="1.0.0",loaderUrl=buildUrl+buildName+".loader.js",config={dataUrl:buildUrl+buildName+".data",frameworkUrl:buildUrl+buildName+".framework.js",codeUrl:buildUrl+buildName+".wasm",streamingAssetsUrl:"StreamingAssets",companyName:"Lazy",productName:"ShootoutAtSunset",productVersion:"1.0",showBanner:unityShowBanner},script=(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?((meta=document.createElement("meta")).name="viewport",meta.content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes",document.getElementsByTagName("head")[0].appendChild(meta),container.className="unity-mobile",canvas.className="unity-mobile"):(canvas.style.width="960px",canvas.style.height="600px"),loadingBar.style.display="block",document.createElement("script"));script.src=loaderUrl,script.onload=function(){createUnityInstance(canvas,config,function(e){progressBarFull.style.width=100*e+"%"}).then(function(e){myGameInstance=e,loadingBar.style.display="none"}).catch(function(e){alert(e)})},document.body.appendChild(script);